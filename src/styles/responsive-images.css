/**
 * Sistema de Imágenes Responsivas Completo
 * Las imágenes se adaptan automáticamente a las dimensiones de la página
 */

/* ===== VARIABLES PARA IMÁGENES ===== */
:root {
  /* Aspect ratios para diferentes tipos de imágenes */
  --aspect-ratio-hero: 16/9;
  --aspect-ratio-section: 4/3;
  --aspect-ratio-card: 1/1;
  --aspect-ratio-wide: 21/9;
  
  /* Sizes para diferentes breakpoints */
  --image-size-mobile: 100vw;
  --image-size-tablet: 100vw;
  --image-size-desktop: 100vw;
  --image-size-large: 100vw;
  
  /* Heights responsivas */
  --image-height-mobile: 50vh;
  --image-height-tablet: 60vh;
  --image-height-desktop: 70vh;
  --image-height-large: 80vh;
}

/* ===== SISTEMA DE BACKGROUND IMAGES RESPONSIVAS ===== */

/* Hero Background Images */
.hero-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed; /* Parallax effect on desktop */
  min-height: 100vh;
  width: 100%;
  position: relative;
}

/* Section Background Images */
.section-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: scroll; /* No parallax on mobile */
  min-height: 100vh;
  width: 100%;
  position: relative;
}

/* ===== RESPONSIVE BACKGROUND SIZES ===== */

/* Mobile (320px+) - Optimized for small screens */
@media (min-width: 320px) {
  .hero-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: scroll; /* No parallax on mobile */
    min-height: 100vh;
  }
  
  .section-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: scroll;
    min-height: 80vh;
  }
}

/* Small Mobile (480px+) - Better positioning */
@media (min-width: 480px) {
  .hero-bg {
    background-size: cover;
    background-position: center center;
    min-height: 100vh;
  }
  
  .section-bg {
    background-size: cover;
    background-position: center center;
    min-height: 85vh;
  }
}

/* Tablet (768px+) - Parallax effect starts */
@media (min-width: 768px) {
  .hero-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed; /* Parallax effect */
    min-height: 100vh;
  }
  
  .section-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed; /* Parallax effect */
    min-height: 90vh;
  }
}

/* Desktop (1024px+) - Full parallax */
@media (min-width: 1024px) {
  .hero-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    min-height: 100vh;
  }
  
  .section-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    min-height: 100vh;
  }
}

/* Large Desktop (1200px+) - Optimized positioning */
@media (min-width: 1200px) {
  .hero-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    min-height: 100vh;
  }
  
  .section-bg {
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    min-height: 100vh;
  }
}

/* ===== SISTEMA DE IMÁGENES CON TAGS IMG ===== */

/* Responsive Image Container */
.img-container {
  position: relative;
  width: 100%;
  height: auto;
  overflow: hidden;
  display: block;
}

/* Responsive Images */
.responsive-img {
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
  display: block;
  transition: transform 0.3s ease;
}

/* Image with specific aspect ratios */
.img-hero {
  aspect-ratio: var(--aspect-ratio-hero);
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
}

.img-section {
  aspect-ratio: var(--aspect-ratio-section);
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
}

.img-card {
  aspect-ratio: var(--aspect-ratio-card);
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
}

.img-wide {
  aspect-ratio: var(--aspect-ratio-wide);
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
}

/* ===== RESPONSIVE IMAGE SIZES ===== */

/* Mobile Images */
@media (max-width: 767px) {
  .responsive-img {
    width: 100%;
    height: auto;
    max-width: 100%;
  }
  
  .img-hero {
    aspect-ratio: 16/9;
    height: 50vh;
    object-fit: cover;
  }
  
  .img-section {
    aspect-ratio: 4/3;
    height: 40vh;
    object-fit: cover;
  }
  
  .img-card {
    aspect-ratio: 1/1;
    height: 200px;
    object-fit: cover;
  }
}

/* Tablet Images */
@media (min-width: 768px) and (max-width: 1023px) {
  .responsive-img {
    width: 100%;
    height: auto;
    max-width: 100%;
  }
  
  .img-hero {
    aspect-ratio: 16/9;
    height: 60vh;
    object-fit: cover;
  }
  
  .img-section {
    aspect-ratio: 4/3;
    height: 50vh;
    object-fit: cover;
  }
  
  .img-card {
    aspect-ratio: 1/1;
    height: 250px;
    object-fit: cover;
  }
}

/* Desktop Images */
@media (min-width: 1024px) {
  .responsive-img {
    width: 100%;
    height: auto;
    max-width: 100%;
  }
  
  .img-hero {
    aspect-ratio: 16/9;
    height: 70vh;
    object-fit: cover;
  }
  
  .img-section {
    aspect-ratio: 4/3;
    height: 60vh;
    object-fit: cover;
  }
  
  .img-card {
    aspect-ratio: 1/1;
    height: 300px;
    object-fit: cover;
  }
}

/* Large Desktop Images */
@media (min-width: 1200px) {
  .img-hero {
    aspect-ratio: 16/9;
    height: 80vh;
    object-fit: cover;
  }
  
  .img-section {
    aspect-ratio: 4/3;
    height: 70vh;
    object-fit: cover;
  }
  
  .img-card {
    aspect-ratio: 1/1;
    height: 350px;
    object-fit: cover;
  }
}

/* ===== IMAGE OPTIMIZATION ===== */

/* Lazy Loading */
.responsive-img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.3s ease;
}

.responsive-img[loading="lazy"].loaded {
  opacity: 1;
}

/* Image Hover Effects */
.img-container:hover .responsive-img {
  transform: scale(1.05);
}

/* Image Focus States */
.responsive-img:focus {
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}

/* ===== BACKGROUND IMAGE OPTIMIZATION ===== */

/* High DPI Displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .hero-bg,
  .section-bg {
    background-size: cover;
    background-position: center;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .hero-bg,
  .section-bg {
    background-attachment: scroll;
  }
  
  .responsive-img {
    transition: none;
  }
  
  .img-container:hover .responsive-img {
    transform: none;
  }
}

/* ===== UTILITY CLASSES ===== */

/* Image Positioning */
.img-center { object-position: center; }
.img-top { object-position: top; }
.img-bottom { object-position: bottom; }
.img-left { object-position: left; }
.img-right { object-position: right; }

/* Image Fit */
.img-cover { object-fit: cover; }
.img-contain { object-fit: contain; }
.img-fill { object-fit: fill; }
.img-scale-down { object-fit: scale-down; }

/* Image Sizes */
.img-full { width: 100%; height: auto; }
.img-half { width: 50%; height: auto; }
.img-quarter { width: 25%; height: auto; }

/* ===== RESPONSIVE IMAGE GRID ===== */

.img-grid {
  display: grid;
  gap: 1rem;
  width: 100%;
}

.img-grid-1 { grid-template-columns: 1fr; }
.img-grid-2 { grid-template-columns: repeat(2, 1fr); }
.img-grid-3 { grid-template-columns: repeat(3, 1fr); }
.img-grid-4 { grid-template-columns: repeat(4, 1fr); }

/* Responsive Grid */
@media (max-width: 767px) {
  .img-grid-2,
  .img-grid-3,
  .img-grid-4 {
    grid-template-columns: 1fr;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .img-grid-3,
  .img-grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .img-grid-4 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1200px) {
  .img-grid-4 {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* ===== IMAGE LOADING STATES ===== */

.img-loading {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.img-error {
  background: #f0f0f0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  font-size: 0.875rem;
}

/* ===== ACCESSIBILITY ===== */

/* Screen Reader Only */
.img-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus Indicators */
.responsive-img:focus-visible {
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}
